# `shared/` - The Neutral Ground

This directory is the crucial meeting point between your Rust backend (`src/`) and your SvelteKit frontend (`renderer/`). Code and types defined here are accessible to both, ensuring they speak the same language.

## Purpose

The primary purpose of this directory is to **enforce type safety** across the IPC bridge. By defining shared data structures, you eliminate a whole class of potential runtime errors and make your application far more robust and maintainable.

## Example: A Shared Data Structure

Imagine you have a `User` object that needs to be passed from Rust to Svelte.

1.  **Define the structure in Rust** (e.g., in `src/models.rs`):
    ```rust
    // This `struct` is serializable and can be sent to the frontend.
    #[derive(serde::Serialize, Clone)]
    pub struct User {
        id: u64,
        username: String,
        is_active: bool,
    }
    ```

2.  **Define the corresponding type in TypeScript** (in `shared/types.ts`):
    ```typescript
    // This interface matches the Rust struct's shape.
    export interface User {
        id: number;
        username: string;
        is_active: boolean;
    }
    ```

Now, your frontend and backend have a shared, guaranteed understanding of what a `User` looks like, preventing mismatches and bugs.

## Best Practices for Excellence

1.  **TypeScript Interfaces First**: Start by defining the shape of your shared data in a TypeScript interface file (e.g., `shared/types.ts`). This serves as the canonical definition.

2.  **Match with Rust Structs**: Ensure your Rust `struct`s that will be sent to the frontend have a structure that matches the TypeScript interface. Use `#[derive(serde::Serialize)]` to make them transferable.

3.  **Keep it Data-Focused**: This directory should primarily contain data structures (types, interfaces, enums) and perhaps simple, pure utility functions. Avoid placing complex logic or framework-specific code here. 